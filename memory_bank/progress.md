# Progress

## What works

*   Project structure is set up according to Cookiecutter Data Science template.
*   Basic path management in `bank_fraud/config.py` is established.
*   Data dictionary generation utility (`data_dictionary_generator.py`) is functional.
*   **Data ingestion and anonymization (`1.0-mjv-data-ingestion-and-anonymization.py`) is set up.**
*   **Data preparation, cleaning, and initial filtering (`2.0-mjv-data-preparation.py`, created as a placeholder) is set up.**
*   **Feature selection (IV and correlation analysis) and final feature dropping (`3.0-mjv-feature-selection-and-eda.py`) is set up, and the processed data is saved as `3.0_selected_features.parquet`.**
*   **Robust IV calculation for categorical and numerical features (with rounding for readability) is implemented, with detailed results saved to individual CSV files in `references/iv_details/`.**
*   **Dropped 30 columns based on IV calculation and feature selection criteria.**
*   **Plots generated by `2.0-mjv-data-preparation.py` and `3.0-mjv-feature-selection-and-eda.py` are now saved to `reports/figures/`.**
*   Memory Bank directory and all core files (`projectbrief.md`, `productContext.md`, `activeContext.md`, `systemPatterns.md`, `techContext.md`, `progress.md`) are created.
*   **`storytelling_with_data_principles.md` has been added to the Memory Bank, documenting key data visualization principles.**
*   `eda_checklist.md` has been moved to `notebooks/to_be_deleted/`.
*   Agent persona (expert data scientist) has been configured in `.cursorrules`.
*   New Jupyter Notebook workflow adopted: read `.ipynb`, edit `.py`.
*   **Numerical binning rules have been pre-processed and saved to `numerical_binning_rules_processed.csv` for optimized IV calculation.**
*   **Pre-processed numerical binning rules have been successfully integrated into the feature selection script, optimizing numerical IV calculation and addressing binning issues.**
*   **Refined numerical binning definitions in `bank_fraud/utils/numerical_binning_definitions.py` for improved interpretability and consistency, including consistent 5-unit ranges for time-based features, discrete binning (0, 1, 2+) for occurrence counts, revised monetary amount bins with peso signs, adjusted count bins, refined ratio/percentage bins, updated unique entity count bins, and revised volatility and entropy bins.**
*   **Created `mask_iv_details.py` in `bank_fraud/utils/` for masking sensitive IV details, and added it to `.gitignore`.**
*   **Updated IV interpretation and reasons in the Markdown table and `get_predictive_power` functions in the feature selection script.**
*   **Integrated `mask_iv_details.py` into `3.0-mjv-feature-selection-and-eda.py` to automatically mask sensitive categorical data in IV details CSVs after generation.**
*   **Completed correlation analysis for categorical and numerical features, dropped highly correlated numerical features, and refined the analysis and decision section by removing redundant information.**

## What's left to build

*   **`4.0-mjv-eda-final-features.ipynb` has been initialized, its `FEATURE_CATEGORIES` dictionary populated with refined feature lists, the `plot_feature_iv` function implemented, and all detailed EDA plots for final features have been generated. The `plot_feature_distribution` function has been refined to incorporate storytelling with data principles for enhanced clarity and impact, including parameter renaming, x-axis label re-addition, and visual adjustments to spines and labels.**
*   Train and evaluate machine learning models.
*   Develop reporting and visualization components.
*   (Add more specific tasks as the project progresses)

## Current status

*   **Setup Phase:** Core project structure, documentation, and agent configuration are in place. Data pipeline is modularized.
*   **Data Understanding & Preparation:** Raw data is ingested and anonymized. Data is prepared, cleaned, and filtered. Feature selection based on IV and correlation is complete, and the processed data is saved as `3.0_selected_features.parquet`.
*   **Detailed EDA for final features is complete, with all plots generated and saved.**
*   **Modeling Phase:** The plan for model training, evaluation, and business simulation is documented in `PLAN.md`. The project is ready to begin implementation of the modeling script.

## Known issues

*   Initial `mkdir` command failed on Windows (resolved by implicit directory creation with `write_file`).
*   Discrepancy between `config.py`'s `DATA_DICTIONARIES_DIR` and actual file placement (resolved by adjusting `config.py`).
*   Persistent issues with direct file deletion commands on Windows (resolved by manual deletion).
*   (Document any ongoing issues or bugs here)
